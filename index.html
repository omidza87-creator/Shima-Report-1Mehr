<!DOCTYPE html>
<html dir="rtl" lang="fa">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯ Ù…Ø¯ÛŒØ±ÛŒØªÛŒ - Ù…Ù‡Ø± Ù…Ø§Ù‡ Û±Û´Û°Û´</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
            min-height: 100vh;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
        }
        
        .header {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            margin-bottom: 30px;
            text-align: center;
        }
        
        .header h1 {
            color: #2c3e50;
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        
        .header p {
            color: #7f8c8d;
            font-size: 1.2em;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .stat-card {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
        }
        
        .stat-card h3 {
            color: #7f8c8d;
            font-size: 0.9em;
            margin-bottom: 10px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .stat-card .value {
            color: #2c3e50;
            font-size: 2.5em;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .stat-card .trend {
            font-size: 0.9em;
            color: #27ae60;
        }
        
        .stat-card.positive .value {
            color: #27ae60;
        }
        
        .stat-card.negative .value {
            color: #e74c3c;
        }
        
        .stat-card.primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        
        .stat-card.primary h3,
        .stat-card.primary .value {
            color: white;
        }
        
        .charts-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
            gap: 30px;
            margin-bottom: 30px;
        }
        
        .chart-card {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .chart-card h2 {
            color: #2c3e50;
            margin-bottom: 20px;
            font-size: 1.3em;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
        }
        
        .chart-container {
            position: relative;
            height: 350px;
        }
        
        .table-card {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }
        
        .table-card h2 {
            color: #2c3e50;
            margin-bottom: 20px;
            font-size: 1.3em;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
        }
        
        th {
            background: #667eea;
            color: white;
            padding: 15px;
            text-align: right;
            font-weight: 600;
        }
        
        td {
            padding: 12px 15px;
            border-bottom: 1px solid #ecf0f1;
            text-align: right;
        }
        
        tr:hover {
            background: #f8f9fa;
        }
        
        .positive-val {
            color: #27ae60;
            font-weight: bold;
        }
        
        .negative-val {
            color: #e74c3c;
            font-weight: bold;
        }
        
        @media (max-width: 768px) {
            .charts-grid {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 1.8em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ“Š Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯ Ù…Ø¯ÛŒØ±ÛŒØªÛŒ</h1>
            <p>Ú¯Ø²Ø§Ø±Ø´ Ù…Ù‡Ø± Ù…Ø§Ù‡ Û±Û´Û°Û´ (Û± Ù…Ù‡Ø± ØªØ§ Û±Û´ Ø¢Ø¨Ø§Ù†)</p>
        </div>
        
        <div class="stats-grid" id="statsGrid"></div>
        
        <div class="charts-grid">
            <div class="chart-card">
                <h2>ğŸ“ˆ Ù…Ù‚Ø§ÛŒØ³Ù‡ Ù…ØµØ±Ù Ùˆ ÙØ±ÙˆØ´</h2>
                <div class="chart-container">
                    <canvas id="overviewChart"></canvas>
                </div>
            </div>
            
            <div class="chart-card">
                <h2>ğŸ¯ ØªÙˆØ²ÛŒØ¹ Ù…ØºØ§ÛŒØ±Øª</h2>
                <div class="chart-container">
                    <canvas id="mogayeratPieChart"></canvas>
                </div>
            </div>
            
            <div class="chart-card">
                <h2>ğŸ“¦ ØªÙˆØ²ÛŒØ¹ Ø¨Ø± Ø§Ø³Ø§Ø³ Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ</h2>
                <div class="chart-container">
                    <canvas id="categoryChart"></canvas>
                </div>
            </div>
            
            <div class="chart-card">
                <h2>ğŸ‘¥ ØªÙˆØ²ÛŒØ¹ Ø¨Ø± Ø§Ø³Ø§Ø³ Ø¬Ù†Ø³ÛŒØª</h2>
                <div class="chart-container">
                    <canvas id="genderChart"></canvas>
                </div>
            </div>
        </div>
        
        <div class="table-card">
            <h2>â­ Û±Û° Ù…Ø­ØµÙˆÙ„ Ø¨Ø±ØªØ± (Ø¨Ø± Ø§Ø³Ø§Ø³ Ù…ØµØ±Ù)</h2>
            <table id="topProductsTable"></table>
        </div>
        
        <div class="charts-grid">
            <div class="table-card">
                <h2>âš ï¸ Ù…Ø­ØµÙˆÙ„Ø§Øª Ø¨Ø§ Ù…ØºØ§ÛŒØ±Øª Ù…Ù†ÙÛŒ</h2>
                <table id="negativeTable"></table>
            </div>
            
            <div class="table-card">
                <h2>âœ… Ù…Ø­ØµÙˆÙ„Ø§Øª Ø¨Ø§ Ù…ØºØ§ÛŒØ±Øª Ù…Ø«Ø¨Øª</h2>
                <table id="positiveTable"></table>
            </div>
        </div>
    </div>
    
    <script>
        // Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§
        const data = {
  "summary": {
    "total_masraf": 71565,
    "total_forosh": 71201,
    "total_daraje2": 153,
    "total_zayeat": 10,
    "total_komite": 91,
    "total_khairieh": 0,
    "total_mogayerat": 110,
    "total_products": 70,
    "mogayerat_positive_count": 53,
    "mogayerat_negative_count": 15,
    "mogayerat_zero_count": 2
  },
  "top_masraf": [
    {
      "Ù†Ø§Ù… Ù…Ø­ØµÙˆÙ„": "Ú©ÙØ´ Ø¨Ø§ÙØªÛŒ Ù…Ø±Ø¯Ø§Ù†Ù‡ 2023 Ù…Ø´Ú©ÛŒ",
      "Ù…ØµØ±Ù": 7720,
      "ÙØ±ÙˆØ´": 7700,
      "Ù…ØºØ§ÛŒØ±Øª": 2
    },
    {
      "Ù†Ø§Ù… Ù…Ø­ØµÙˆÙ„": "Ù†ÛŒÙ… Ø¨Øª Ù†Ø¨ÙˆÚ© Ù…Ø±Ø¯Ø§Ù†Ù‡ Ø¢Ø±Ø§Ø±Ø§Øª Ù…Ø´Ú©ÛŒ",
      "Ù…ØµØ±Ù": 2982,
      "ÙØ±ÙˆØ´": 2951,
      "Ù…ØºØ§ÛŒØ±Øª": 1
    },
    {
      "Ù†Ø§Ù… Ù…Ø­ØµÙˆÙ„": "Ú©ÙØ´ Ø¨Ø§ÙØªÛŒ Ù…Ø±Ø¯Ø§Ù†Ù‡ 2023 Ø·ÙˆØ³ÛŒ Ø³ÛŒØ±",
      "Ù…ØµØ±Ù": 2981,
      "ÙØ±ÙˆØ´": 2903,
      "Ù…ØºØ§ÛŒØ±Øª": 78
    },
    {
      "Ù†Ø§Ù… Ù…Ø­ØµÙˆÙ„": "Ú©ÙØ´ Ù…Ø±Ø¯Ø§Ù†Ù‡ Ø±Ø§Ø¯Ùˆ ÙÙˆÙ… Ù…Ø´Ú©ÛŒ Ø·ÙˆØ³ÛŒ",
      "Ù…ØµØ±Ù": 2633,
      "ÙØ±ÙˆØ´": 1392,
      "Ù…ØºØ§ÛŒØ±Øª": 1241
    },
    {
      "Ù†Ø§Ù… Ù…Ø­ØµÙˆÙ„": "Ù†ÛŒÙ… Ø¨Øª Ù†Ø¨ÙˆÚ© Ù…Ø±Ø¯Ø§Ù†Ù‡ Ù‡Ù…ÛŒÙ„ØªÙˆÙ† Ù…Ø´Ú©ÛŒ",
      "Ù…ØµØ±Ù": 2611,
      "ÙØ±ÙˆØ´": 2594,
      "Ù…ØºØ§ÛŒØ±Øª": 9
    },
    {
      "Ù†Ø§Ù… Ù…Ø­ØµÙˆÙ„": "Ù†ÛŒÙ… Ø¨Øª Ù…Ø±Ø¯Ø§Ù†Ù‡ Ø¢Ø±ØªØ§ ÙÙˆÙ… Ù…Ø´Ú©ÛŒ",
      "Ù…ØµØ±Ù": 2418,
      "ÙØ±ÙˆØ´": 2292,
      "Ù…ØºØ§ÛŒØ±Øª": 126
    },
    {
      "Ù†Ø§Ù… Ù…Ø­ØµÙˆÙ„": "Ù†ÛŒÙ… Ø¨Øª Ù†Ø¨ÙˆÚ© Ù…Ø±Ø¯Ø§Ù†Ù‡ Ø¢Ø±ØªØ§ Ù…Ø´Ú©ÛŒ",
      "Ù…ØµØ±Ù": 2415,
      "ÙØ±ÙˆØ´": 3511,
      "Ù…ØºØ§ÛŒØ±Øª": -1108
    },
    {
      "Ù†Ø§Ù… Ù…Ø­ØµÙˆÙ„": "Ú©ÙØ´ Ø¨Ø§ÙØªÛŒ Ù…ÛŒØ§Ù†Ù‡ 2023 Ù…Ø´Ú©ÛŒ",
      "Ù…ØµØ±Ù": 2193,
      "ÙØ±ÙˆØ´": 2187,
      "Ù…ØºØ§ÛŒØ±Øª": 6
    },
    {
      "Ù†Ø§Ù… Ù…Ø­ØµÙˆÙ„": "Ú©ÙØ´ Ù…Ø±Ø¯Ø§Ù†Ù‡ Ø±Ø§Ø¯Ùˆ ÙÙˆÙ… Ù…Ø´Ú©ÛŒ Ø²Ø±Ø´Ú©ÛŒ",
      "Ù…ØµØ±Ù": 1911,
      "ÙØ±ÙˆØ´": 1524,
      "Ù…ØºØ§ÛŒØ±Øª": 387
    },
    {
      "Ù†Ø§Ù… Ù…Ø­ØµÙˆÙ„": "Ù†ÛŒÙ… Ø¨Øª Ù†Ø¨ÙˆÚ© Ù…ÛŒØ§Ù†Ù‡ Ù‡Ù…ÛŒÙ„ØªÙˆÙ† Ù…Ø´Ú©ÛŒ",
      "Ù…ØµØ±Ù": 1784,
      "ÙØ±ÙˆØ´": 1781,
      "Ù…ØºØ§ÛŒØ±Øª": -6
    }
  ],
  "negative_mogayerat": [
    {
      "Ù†Ø§Ù… Ù…Ø­ØµÙˆÙ„": "Ù†ÛŒÙ… Ø¨Øª Ù…ÛŒØ§Ù†Ù‡ Ø¯Ø§Ù†Ù„ÙˆÙ¾ 2 Ù…Ø´Ú©ÛŒ",
      "Ù…ØµØ±Ù": 587,
      "ÙØ±ÙˆØ´": 1800,
      "Ù…ØºØ§ÛŒØ±Øª": -1213
    },
    {
      "Ù†Ø§Ù… Ù…Ø­ØµÙˆÙ„": "Ú©ÙØ´ Ù…ÛŒØ§Ù†Ù‡ Ù‡ÙˆØªÙ† Ù…Ø´Ú©ÛŒ",
      "Ù…ØµØ±Ù": 1216,
      "ÙØ±ÙˆØ´": 2380,
      "Ù…ØºØ§ÛŒØ±Øª": -1177
    },
    {
      "Ù†Ø§Ù… Ù…Ø­ØµÙˆÙ„": "Ù†ÛŒÙ… Ø¨Øª Ù†Ø¨ÙˆÚ© Ù…Ø±Ø¯Ø§Ù†Ù‡ Ø¢Ø±ØªØ§ Ù…Ø´Ú©ÛŒ",
      "Ù…ØµØ±Ù": 2415,
      "ÙØ±ÙˆØ´": 3511,
      "Ù…ØºØ§ÛŒØ±Øª": -1108
    },
    {
      "Ù†Ø§Ù… Ù…Ø­ØµÙˆÙ„": "Ú©ÙØ´ Ø¨Ø§ÙØªÛŒ Ù…Ø±Ø¯Ø§Ù†Ù‡ 2023 Ù…Ø´Ú©ÛŒ Ø¨Ø²Ø±Ú¯ Ù¾Ø§",
      "Ù…ØµØ±Ù": 622,
      "ÙØ±ÙˆØ´": 1507,
      "Ù…ØºØ§ÛŒØ±Øª": -885
    },
    {
      "Ù†Ø§Ù… Ù…Ø­ØµÙˆÙ„": "Ú©ÙØ´ Ø¨Ø§ÙØªÛŒ Ù…Ø±Ø¯Ø§Ù†Ù‡ 2023 Ø¯ÙˆØ¯ÛŒ",
      "Ù…ØµØ±Ù": 1783,
      "ÙØ±ÙˆØ´": 2362,
      "Ù…ØºØ§ÛŒØ±Øª": -579
    },
    {
      "Ù†Ø§Ù… Ù…Ø­ØµÙˆÙ„": "Ù†ÛŒÙ… Ø¨Øª Ù†Ø¨ÙˆÚ© Ù…Ø±Ø¯Ø§Ù†Ù‡ Ø¢Ø±ØªØ§ Ø²ÛŒØªÙˆÙ†ÛŒ",
      "Ù…ØµØ±Ù": 719,
      "ÙØ±ÙˆØ´": 1286,
      "Ù…ØºØ§ÛŒØ±Øª": -567
    },
    {
      "Ù†Ø§Ù… Ù…Ø­ØµÙˆÙ„": "Ù†ÛŒÙ… Ø¨Øª Ù†Ø¨ÙˆÚ© Ù…Ø±Ø¯Ø§Ù†Ù‡ Ø¢Ø±ØªØ§ Ø·ÙˆØ³ÛŒ",
      "Ù…ØµØ±Ù": 480,
      "ÙØ±ÙˆØ´": 796,
      "Ù…ØºØ§ÛŒØ±Øª": -316
    },
    {
      "Ù†Ø§Ù… Ù…Ø­ØµÙˆÙ„": "Ù†ÛŒÙ… Ø¨Øª Ù†Ø¨ÙˆÚ© Ù…ÛŒØ§Ù†Ù‡ Ø¢Ø±Ø§Ø±Ø§Øª Ù…Ø´Ú©ÛŒ",
      "Ù…ØµØ±Ù": 1198,
      "ÙØ±ÙˆØ´": 1177,
      "Ù…ØºØ§ÛŒØ±Øª": -59
    },
    {
      "Ù†Ø§Ù… Ù…Ø­ØµÙˆÙ„": "Ù†ÛŒÙ… Ø¨Øª Ù†Ø¨ÙˆÚ© Ù…ÛŒØ§Ù†Ù‡ Ø¢Ø±ØªØ§ Ù…Ø´Ú©ÛŒ",
      "Ù…ØµØ±Ù": 600,
      "ÙØ±ÙˆØ´": 618,
      "Ù…ØºØ§ÛŒØ±Øª": -58
    },
    {
      "Ù†Ø§Ù… Ù…Ø­ØµÙˆÙ„": "Ú©ÙØ´ Ù¾Ø³Ø±Ø§Ù†Ù‡ Ù‡ÙˆØªÙ† Ù…Ø´Ú©ÛŒ",
      "Ù…ØµØ±Ù": 115,
      "ÙØ±ÙˆØ´": 123,
      "Ù…ØºØ§ÛŒØ±Øª": -34
    }
  ],
  "positive_mogayerat": [
    {
      "Ù†Ø§Ù… Ù…Ø­ØµÙˆÙ„": "Ú©ÙØ´ Ù…Ø±Ø¯Ø§Ù†Ù‡ Ø±Ø§Ø¯Ùˆ ÙÙˆÙ… Ù…Ø´Ú©ÛŒ Ø·ÙˆØ³ÛŒ",
      "Ù…ØµØ±Ù": 2633,
      "ÙØ±ÙˆØ´": 1392,
      "Ù…ØºØ§ÛŒØ±Øª": 1241
    },
    {
      "Ù†Ø§Ù… Ù…Ø­ØµÙˆÙ„": "Ú©ÙØ´ Ø¨Ø§ÙØªÛŒ Ø²Ù†Ø§Ù†Ù‡ Ø¬ÙˆÙ„ÛŒ Ù…Ø´Ú©ÛŒ",
      "Ù…ØµØ±Ù": 1195,
      "ÙØ±ÙˆØ´": 0,
      "Ù…ØºØ§ÛŒØ±Øª": 1195
    },
    {
      "Ù†Ø§Ù… Ù…Ø­ØµÙˆÙ„": "Ú©ÙØ´ Ø¨Ø§ÙØªÛŒ Ù…Ø±Ø¯Ø§Ù†Ù‡ Ù…Ø§Ø±Ú©Ùˆ Ù…Ø´Ú©ÛŒ",
      "Ù…ØµØ±Ù": 597,
      "ÙØ±ÙˆØ´": 1,
      "Ù…ØºØ§ÛŒØ±Øª": 590
    },
    {
      "Ù†Ø§Ù… Ù…Ø­ØµÙˆÙ„": "Ú©ÙØ´ Ù…Ø±Ø¯Ø§Ù†Ù‡ ÙÙˆØªØ³Ø§Ù„101 Ù…Ø´Ú©ÛŒ",
      "Ù…ØµØ±Ù": 479,
      "ÙØ±ÙˆØ´": 3,
      "Ù…ØºØ§ÛŒØ±Øª": 476
    },
    {
      "Ù†Ø§Ù… Ù…Ø­ØµÙˆÙ„": "Ú©ÙØ´ Ø¨Ø§ÙØªÛŒ Ù…ÛŒØ§Ù†Ù‡ Ø¨Ø±Ù„ÛŒØ§Ù† Ø·ÙˆØ³ÛŒ Ø±ÙˆØ´Ù†",
      "Ù…ØµØ±Ù": 431,
      "ÙØ±ÙˆØ´": 2,
      "Ù…ØºØ§ÛŒØ±Øª": 429
    },
    {
      "Ù†Ø§Ù… Ù…Ø­ØµÙˆÙ„": "Ú©ÙØ´ Ù…Ø±Ø¯Ø§Ù†Ù‡ Ø±Ø§Ø¯Ùˆ ÙÙˆÙ… Ù…Ø´Ú©ÛŒ Ø²Ø±Ø´Ú©ÛŒ",
      "Ù…ØµØ±Ù": 1911,
      "ÙØ±ÙˆØ´": 1524,
      "Ù…ØºØ§ÛŒØ±Øª": 387
    },
    {
      "Ù†Ø§Ù… Ù…Ø­ØµÙˆÙ„": "Ú©ÙØ´ Ù…ÛŒØ§Ù†Ù‡ Ø¯Ù†ÛŒØ³ Ù…Ø´Ú©ÛŒ Ø·ÙˆØ³ÛŒ Ø³ÛŒØ±",
      "Ù…ØµØ±Ù": 596,
      "ÙØ±ÙˆØ´": 241,
      "Ù…ØºØ§ÛŒØ±Øª": 355
    },
    {
      "Ù†Ø§Ù… Ù…Ø­ØµÙˆÙ„": "Ú©ÙØ´ Ù…Ø±Ø¯Ø§Ù†Ù‡ Ø¬Ø§Ù†Ø³ÙˆÙ† Ù…Ø´Ú©ÛŒ",
      "Ù…ØµØ±Ù": 561,
      "ÙØ±ÙˆØ´": 264,
      "Ù…ØºØ§ÛŒØ±Øª": 297
    },
    {
      "Ù†Ø§Ù… Ù…Ø­ØµÙˆÙ„": "Ú©ÙØ´ Ù…ÛŒØ§Ù†Ù‡ Ø¯Ù†ÛŒØ³ Ù…Ø´Ú©ÛŒ Ø³ÙÛŒØ¯",
      "Ù…ØµØ±Ù": 608,
      "ÙØ±ÙˆØ´": 460,
      "Ù…ØºØ§ÛŒØ±Øª": 148
    },
    {
      "Ù†Ø§Ù… Ù…Ø­ØµÙˆÙ„": "Ù†ÛŒÙ… Ø¨Øª Ù…Ø±Ø¯Ø§Ù†Ù‡ Ø¢Ø±ØªØ§ ÙÙˆÙ… Ù…Ø´Ú©ÛŒ",
      "Ù…ØµØ±Ù": 2418,
      "ÙØ±ÙˆØ´": 2292,
      "Ù…ØºØ§ÛŒØ±Øª": 126
    }
  ],
  "category_stats": [
    {
      "category": "Ø³Ø§ÛŒØ±",
      "Ù…ØµØ±Ù": 80,
      "ÙØ±ÙˆØ´": 0,
      "Ù…ØºØ§ÛŒØ±Øª": 80
    },
    {
      "category": "Ù†ÛŒÙ… Ø¨Øª",
      "Ù…ØµØ±Ù": 29693,
      "ÙØ±ÙˆØ´": 32378,
      "Ù…ØºØ§ÛŒØ±Øª": -2864
    },
    {
      "category": "Ú©ÙØ´",
      "Ù…ØµØ±Ù": 41792,
      "ÙØ±ÙˆØ´": 38823,
      "Ù…ØºØ§ÛŒØ±Øª": 2894
    }
  ],
  "gender_stats": [
    {
      "gender": "Ø²Ù†Ø§Ù†Ù‡",
      "Ù…ØµØ±Ù": 1195,
      "ÙØ±ÙˆØ´": 0,
      "Ù…ØºØ§ÛŒØ±Øª": 1195
    },
    {
      "gender": "Ù…Ø±Ø¯Ø§Ù†Ù‡",
      "Ù…ØµØ±Ù": 45709,
      "ÙØ±ÙˆØ´": 45363,
      "Ù…ØºØ§ÛŒØ±Øª": 270
    },
    {
      "gender": "Ù…ÛŒØ§Ù†Ù‡",
      "Ù…ØµØ±Ù": 22329,
      "ÙØ±ÙˆØ´": 23541,
      "Ù…ØºØ§ÛŒØ±Øª": -1357
    },
    {
      "gender": "Ù¾Ø³Ø±Ø§Ù†Ù‡",
      "Ù…ØµØ±Ù": 2332,
      "ÙØ±ÙˆØ´": 2297,
      "Ù…ØºØ§ÛŒØ±Øª": 2
    }
  ]
};
        
        // ØªØ§Ø¨Ø¹ ÙØ±Ù…Øª Ø¹Ø¯Ø¯
        function formatNumber(num) {
            return new Intl.NumberFormat('fa-IR').format(num);
        }
        
        // Ø³Ø§Ø®Øª Ú©Ø§Ø±Øªâ€ŒÙ‡Ø§ÛŒ Ø¢Ù…Ø§Ø±ÛŒ
        function createStatsCards() {
            const statsGrid = document.getElementById('statsGrid');
            const summary = data.summary;
            
            const cards = [
                { title: 'ØªØ¹Ø¯Ø§Ø¯ Ù…Ø­ØµÙˆÙ„Ø§Øª', value: summary.total_products, icon: 'ğŸ“¦', class: 'primary' },
                { title: 'Ù…ØµØ±Ù Ú©Ù„', value: formatNumber(summary.total_masraf), icon: 'ğŸ“¥' },
                { title: 'ÙØ±ÙˆØ´ Ú©Ù„', value: formatNumber(summary.total_forosh), icon: 'ğŸ’°' },
                { title: 'Ù…ØºØ§ÛŒØ±Øª', value: formatNumber(summary.total_mogayerat), icon: 'ğŸ“Š', class: summary.total_mogayerat >= 0 ? 'positive' : 'negative' },
                { title: 'Ø¯Ø±Ø¬Ù‡ Ø¯Ùˆ', value: formatNumber(summary.total_daraje2), icon: 'ğŸ“‹' },
                { title: 'Ø¶Ø§ÛŒØ¹Ø§Øª', value: formatNumber(summary.total_zayeat), icon: 'ğŸ—‘ï¸' },
                { title: 'Ú©Ù…ÛŒØªÙ‡', value: formatNumber(summary.total_komite), icon: 'ğŸ‘”' },
                { title: 'Ù…ØºØ§ÛŒØ±Øª Ù…Ø«Ø¨Øª', value: summary.mogayerat_positive_count, icon: 'âœ…', class: 'positive' },
                { title: 'Ù…ØºØ§ÛŒØ±Øª Ù…Ù†ÙÛŒ', value: summary.mogayerat_negative_count, icon: 'âš ï¸', class: 'negative' }
            ];
            
            cards.forEach(card => {
                const cardEl = document.createElement('div');
                cardEl.className = `stat-card ${card.class || ''}`;
                cardEl.innerHTML = `
                    <h3>${card.icon} ${card.title}</h3>
                    <div class="value">${card.value}</div>
                `;
                statsGrid.appendChild(cardEl);
            });
        }
        
        // Ù†Ù…ÙˆØ¯Ø§Ø± Ù…Ù‚Ø§ÛŒØ³Ù‡ Ú©Ù„ÛŒ
        function createOverviewChart() {
            const ctx = document.getElementById('overviewChart').getContext('2d');
            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['Ù…ØµØ±Ù', 'ÙØ±ÙˆØ´', 'Ø¯Ø±Ø¬Ù‡ Ø¯Ùˆ', 'Ø¶Ø§ÛŒØ¹Ø§Øª', 'Ú©Ù…ÛŒØªÙ‡'],
                    datasets: [{
                        label: 'Ù…Ù‚Ø¯Ø§Ø±',
                        data: [
                            data.summary.total_masraf,
                            data.summary.total_forosh,
                            data.summary.total_daraje2,
                            data.summary.total_zayeat,
                            data.summary.total_komite
                        ],
                        backgroundColor: [
                            'rgba(102, 126, 234, 0.8)',
                            'rgba(39, 174, 96, 0.8)',
                            'rgba(52, 152, 219, 0.8)',
                            'rgba(231, 76, 60, 0.8)',
                            'rgba(241, 196, 15, 0.8)'
                        ],
                        borderColor: [
                            'rgba(102, 126, 234, 1)',
                            'rgba(39, 174, 96, 1)',
                            'rgba(52, 152, 219, 1)',
                            'rgba(231, 76, 60, 1)',
                            'rgba(241, 196, 15, 1)'
                        ],
                        borderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { display: false }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: {
                                callback: function(value) {
                                    return value.toLocaleString('fa-IR');
                                }
                            }
                        }
                    }
                }
            });
        }
        
        // Ù†Ù…ÙˆØ¯Ø§Ø± Ø¯Ø§ÛŒØ±Ù‡â€ŒØ§ÛŒ Ù…ØºØ§ÛŒØ±Øª
        function createMogayeratPieChart() {
            const ctx = document.getElementById('mogayeratPieChart').getContext('2d');
            new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ['Ù…ØºØ§ÛŒØ±Øª Ù…Ø«Ø¨Øª', 'Ù…ØºØ§ÛŒØ±Øª Ù…Ù†ÙÛŒ', 'Ø¨Ø¯ÙˆÙ† Ù…ØºØ§ÛŒØ±Øª'],
                    datasets: [{
                        data: [
                            data.summary.mogayerat_positive_count,
                            data.summary.mogayerat_negative_count,
                            data.summary.mogayerat_zero_count
                        ],
                        backgroundColor: [
                            'rgba(39, 174, 96, 0.8)',
                            'rgba(231, 76, 60, 0.8)',
                            'rgba(149, 165, 166, 0.8)'
                        ],
                        borderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom'
                        }
                    }
                }
            });
        }
        
        // Ù†Ù…ÙˆØ¯Ø§Ø± Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ
        function createCategoryChart() {
            const ctx = document.getElementById('categoryChart').getContext('2d');
            const categories = data.category_stats;
            
            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: categories.map(c => c.category),
                    datasets: [
                        {
                            label: 'Ù…ØµØ±Ù',
                            data: categories.map(c => c['Ù…ØµØ±Ù']),
                            backgroundColor: 'rgba(102, 126, 234, 0.8)',
                            borderColor: 'rgba(102, 126, 234, 1)',
                            borderWidth: 2
                        },
                        {
                            label: 'ÙØ±ÙˆØ´',
                            data: categories.map(c => c['ÙØ±ÙˆØ´']),
                            backgroundColor: 'rgba(39, 174, 96, 0.8)',
                            borderColor: 'rgba(39, 174, 96, 1)',
                            borderWidth: 2
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: {
                                callback: function(value) {
                                    return value.toLocaleString('fa-IR');
                                }
                            }
                        }
                    }
                }
            });
        }
        
        // Ù†Ù…ÙˆØ¯Ø§Ø± Ø¬Ù†Ø³ÛŒØª
        function createGenderChart() {
            const ctx = document.getElementById('genderChart').getContext('2d');
            const genders = data.gender_stats;
            
            new Chart(ctx, {
                type: 'polarArea',
                data: {
                    labels: genders.map(g => g.gender),
                    datasets: [{
                        label: 'Ù…ØµØ±Ù',
                        data: genders.map(g => g['Ù…ØµØ±Ù']),
                        backgroundColor: [
                            'rgba(102, 126, 234, 0.7)',
                            'rgba(39, 174, 96, 0.7)',
                            'rgba(241, 196, 15, 0.7)',
                            'rgba(231, 76, 60, 0.7)',
                            'rgba(52, 152, 219, 0.7)',
                            'rgba(155, 89, 182, 0.7)'
                        ],
                        borderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false
                }
            });
        }
        
        // Ø¬Ø¯ÙˆÙ„ Ù…Ø­ØµÙˆÙ„Ø§Øª Ø¨Ø±ØªØ±
        function createTopProductsTable() {
            const table = document.getElementById('topProductsTable');
            const products = data.top_masraf;
            
            let html = `
                <thead>
                    <tr>
                        <th>Ø±Ø¯ÛŒÙ</th>
                        <th>Ù†Ø§Ù… Ù…Ø­ØµÙˆÙ„</th>
                        <th>Ù…ØµØ±Ù</th>
                        <th>ÙØ±ÙˆØ´</th>
                        <th>Ù…ØºØ§ÛŒØ±Øª</th>
                    </tr>
                </thead>
                <tbody>
            `;
            
            products.forEach((product, index) => {
                const mogayeratClass = product['Ù…ØºØ§ÛŒØ±Øª'] >= 0 ? 'positive-val' : 'negative-val';
                html += `
                    <tr>
                        <td>${index + 1}</td>
                        <td>${product['Ù†Ø§Ù… Ù…Ø­ØµÙˆÙ„']}</td>
                        <td>${formatNumber(product['Ù…ØµØ±Ù'])}</td>
                        <td>${formatNumber(product['ÙØ±ÙˆØ´'])}</td>
                        <td class="${mogayeratClass}">${formatNumber(product['Ù…ØºØ§ÛŒØ±Øª'])}</td>
                    </tr>
                `;
            });
            
            html += '</tbody>';
            table.innerHTML = html;
        }
        
        // Ø¬Ø¯ÙˆÙ„ Ù…ØºØ§ÛŒØ±Øª Ù…Ù†ÙÛŒ
        function createNegativeTable() {
            const table = document.getElementById('negativeTable');
            const products = data.negative_mogayerat;
            
            let html = `
                <thead>
                    <tr>
                        <th>Ø±Ø¯ÛŒÙ</th>
                        <th>Ù†Ø§Ù… Ù…Ø­ØµÙˆÙ„</th>
                        <th>Ù…ØµØ±Ù</th>
                        <th>ÙØ±ÙˆØ´</th>
                        <th>Ù…ØºØ§ÛŒØ±Øª</th>
                    </tr>
                </thead>
                <tbody>
            `;
            
            products.forEach((product, index) => {
                html += `
                    <tr>
                        <td>${index + 1}</td>
                        <td>${product['Ù†Ø§Ù… Ù…Ø­ØµÙˆÙ„']}</td>
                        <td>${formatNumber(product['Ù…ØµØ±Ù'])}</td>
                        <td>${formatNumber(product['ÙØ±ÙˆØ´'])}</td>
                        <td class="negative-val">${formatNumber(product['Ù…ØºØ§ÛŒØ±Øª'])}</td>
                    </tr>
                `;
            });
            
            html += '</tbody>';
            table.innerHTML = html;
        }
        
        // Ø¬Ø¯ÙˆÙ„ Ù…ØºØ§ÛŒØ±Øª Ù…Ø«Ø¨Øª
        function createPositiveTable() {
            const table = document.getElementById('positiveTable');
            const products = data.positive_mogayerat;
            
            let html = `
                <thead>
                    <tr>
                        <th>Ø±Ø¯ÛŒÙ</th>
                        <th>Ù†Ø§Ù… Ù…Ø­ØµÙˆÙ„</th>
                        <th>Ù…ØµØ±Ù</th>
                        <th>ÙØ±ÙˆØ´</th>
                        <th>Ù…ØºØ§ÛŒØ±Øª</th>
                    </tr>
                </thead>
                <tbody>
            `;
            
            products.forEach((product, index) => {
                html += `
                    <tr>
                        <td>${index + 1}</td>
                        <td>${product['Ù†Ø§Ù… Ù…Ø­ØµÙˆÙ„']}</td>
                        <td>${formatNumber(product['Ù…ØµØ±Ù'])}</td>
                        <td>${formatNumber(product['ÙØ±ÙˆØ´'])}</td>
                        <td class="positive-val">${formatNumber(product['Ù…ØºØ§ÛŒØ±Øª'])}</td>
                    </tr>
                `;
            });
            
            html += '</tbody>';
            table.innerHTML = html;
        }
        
        // Ø§Ø¬Ø±Ø§ÛŒ Ù‡Ù…Ù‡ ØªÙˆØ§Ø¨Ø¹
        createStatsCards();
        createOverviewChart();
        createMogayeratPieChart();
        createCategoryChart();
        createGenderChart();
        createTopProductsTable();
        createNegativeTable();
        createPositiveTable();
    </script>
</body>
</html>
